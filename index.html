<!DOCTYPE html> 
<html> 
<head> 
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <title>Home Questionnaire!</title> 

    <!--Start Placeholder for Segment Snippet -->
    <script>
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="kxu54FZnPqGFfWYgOhHB4yMfph1ZWSWK";analytics.SNIPPET_VERSION="4.13.2";
      analytics.load("kxu54FZnPqGFfWYgOhHB4yMfph1ZWSWK");
      analytics.page();
      }}();
    </script>
    <!--End Placeholder for Segment Snippet -->
    <!--Start hardcorded tracking code -->
    <script type="text/javascript">
        var userId;

        function idFunction(id) {
            userId = id.name;
            console.log(userId);
            analytics.reset();
            analytics.identify(userId);
            analytics.page();
        }
  
        function identify(e){
        e.preventDefault();
        var form = e.target;
        var email = form["email"].value;
        var fullname = form["fullname"].value;
        var destination = form["destination"].value;
        var details = form["details"].value;
        var user = {
            email: email, 
            name: fullname, 
            destination: destination, 
            details: details
        };
        analytics.identify(userId, {
            email: email, 
            name: fullname
        });
        analytics.track('destination submitted', user, function() {
            window.location.href = "";
        });
        }
    </script>
    <!--End hardcoded tracking code -->
    <!--Start hardcorded fb identify -->
    <script>
        function fbIdentify(){
            analytics.identify('TS000', {
                name: 'Tobi Segment',
                gender: 'Male',
                email: 'XYZ@segment.com',
                phone: '085-750-4370',
                address: {
                    city: 'San Francisco',
                    state: 'Ca',
                    postalCode: '94107'
                }
            });
            analytics.page();
            analytics.track('Product Added', function() {
            window.location.href = "";
        });
        }
    </script>
    <!--End hardcoded fb identify -->
    <!--Start hardcorded intercom identify -->
    <script>
        function intercomPage(){
            // analytics.identify('TS000', {
            //     name: 'Tobi Segment',
            //     gender: 'Male',
            //     email: 'tobi_XYZ@segment.com',
            //     phone: '085-750-4370',
            //     address: {
            //         city: 'San Francisco',
            //         state: 'Ca',
            //         postalCode: '94107'
            //     }
            // });
            analytics.page({
                title: "Another Page",
                url: "https://tawe-segment.github.io/tawe.github.io/another_page/"
            });
        //     analytics.track('Page Viewed Test', function() {
        //     window.location.href = "";
        // });
        }
    </script>
    <!--End hardcoded fb identify -->
    

</head> 
<body>
    <div class="travel-form">
        <h2>Identify & Trigger</h2>
            <table style="width:100%">
                <tr>
                    <th>John Doe - JD1234</th>
                    <th>Jane Austen - JA999</th> 
                    <th>Jack Bean - JS5555</th>
                    <!--<th>Jill Stalk - JS911</th>-->
                    <th>Tobi Segment - TS000</th>
                </tr>
                <tr>
                    <td>john.doe@doe.comx<input type="button" class="idBtn" onclick="idFunction(this)" name="JD1234" value="Identify"></td>
                    <td>jane.austen@wanabe.comx<input type="button" class="idBtn" onclick="idFunction(this)" name="JA999" value="Identify"></td>
                    <td>jack.bean@beanstalk.yah<input type="button" class="idBtn" onclick="idFunction(this)" name="JS5555" value="Identify"></td>
                    <!--<<td>jill.stalk@youknow.who<input type="button" class="idBtn" onclick="idFunction(this)" name="JS911" value="Identify"></td>-->
                    <td>---<input type="button" class="idBtn" onclick="idFunction(this)" name="TS000" value="Identify"></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <!--<td></td>-->
                    <td><input type="button" class="idBtn" onclick="fbIdentify()" name="TS000" value="FB AddToCart"></td>
                </tr>
                <tr>
                    <td></td>
                    <td><input type="button" class="idBtn" onclick="intercomPage()" name="JA999" value="IntercomPage"></td>
                    <td><input type="button" class="idBtn" onclick="intercomPage()" name="JS5555" value="IntercomPage"></td>
                    <!--<td></td>-->
                    <td></td>
                </tr>
                
            </table>
            <br><br>
        <h2>What is your favorite place to travel?</h2> 
        <p>I am building a directory of the sweetest travel destinations.</p>
        <br><br>
        <form name="travel" onsubmit="identify(event)">
            <label for="destination">What is your favorite travel destination?<em>&#x2a;</em></label>
                <input id="destination" name="destination" required="" type="text" />
            <label for="details">Any recommendations?: <em>&#x2a;</em></label>
                <textarea id="details" name="details" required="" rows="4"></textarea>
                <h3>i.e cool things to do, places to visit or restaurants to eat?</h3>
            <label for="fullname">Full Name <em>&#x2a;</em></label>
                <input id="fullname" name="fullname" required="" type="text" />
            <label for="email">Email <em>&#x2a;</em></label>
                <input id="email" name="email" required="" type="email" />
            <button id="submitForm">SUBMIT</button>
        </form>
    </div>
    
    <!--Placeholder for identify and track script -->

</body> 
</html>
